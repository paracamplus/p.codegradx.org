import{S as t,i as e,s,c as a,g as r,m as c,l as i,t as n,n as l,o,v as u,O as d,x as p,k as g,M as f,K as h,h as m,P as v,B as w,b as $,a as j,p as b,q as E,u as I,e as D,d as V,f as _,j as y,r as x,Q as z,E as C,D as A,z as G,w as M,I as k,J as q,L as B,A as N,G as T,N as P,C as L}from"./client.2a673209.js";import{a as R,p as J}from"./lib.98d03415.js";import{H as O,B as S}from"./Bottom.f5e64682.js";import{P as H}from"./Problem.15a1ecbc.js";import"./ConnectDoc.d4ae2f0c.js";import{C as U}from"./ConnectDoc.cc981cee.js";function X(t,e,s){const a=t.slice();return a[22]=e[s],a}function Q(t){let e,s,a,r,c,i,n,l,o,d,f,h,v,w,$,j,I,C,A,G,M,k,q,B,N,T,P,L,R,J,O,S,H,U,Q,Z,W,Y,tt,et,st,at,rt,ct,it,nt,lt,ot,ut,dt,pt,gt,ft,ht,mt,vt,wt,$t,jt,bt,Et,It,Dt,Vt,_t,yt,xt,zt,Ct,At,Gt,Mt,kt,qt,Bt,Nt,Tt,Pt=(t[4](),""),Lt=t[0],Rt=[];for(let e=0;e<Lt.length;e+=1)Rt[e]=K(X(t,Lt,e));let Jt=t[3]&&F(t);return{c(){e=D("div"),s=b(Pt),a=u(),r=D("p"),c=b("Déplacez les chiffres dans les cases vides afin de former la\n    suite ");for(let t=0;t<Rt.length;t+=1)Rt[t].c();i=b("."),n=u(),Jt&&Jt.c(),l=u(),o=D("div"),d=D("div"),f=u(),h=D("div"),v=D("img"),$=u(),j=D("div"),I=D("img"),A=u(),G=D("div"),M=D("img"),q=u(),B=D("div"),N=D("img"),P=u(),L=D("div"),R=D("img"),O=u(),S=D("div"),H=u(),U=D("div"),Q=u(),Z=D("div"),W=D("img"),tt=u(),et=D("div"),st=D("img"),rt=u(),ct=D("div"),it=D("img"),lt=u(),ot=D("div"),ut=D("img"),pt=u(),gt=D("div"),ft=D("img"),mt=u(),vt=D("div"),wt=u(),$t=D("div"),jt=D("div"),bt=u(),Et=D("div"),It=D("img"),Vt=u(),_t=D("div"),yt=D("img"),zt=u(),Ct=D("div"),At=D("img"),Mt=u(),kt=D("div"),qt=D("img"),Nt=u(),Tt=D("div"),this.h()},l(t){e=V(t,"DIV",{id:!0,class:!0});var u=_(e);s=E(u,Pt),a=p(u),r=V(u,"P",{});var g=_(r);c=E(g,"Déplacez les chiffres dans les cases vides afin de former la\n    suite ");for(let t=0;t<Rt.length;t+=1)Rt[t].l(g);i=E(g,"."),g.forEach(m),n=p(u),Jt&&Jt.l(u),l=p(u),o=V(u,"DIV",{class:!0});var w=_(o);d=V(w,"DIV",{}),_(d).forEach(m),f=p(w),h=V(w,"DIV",{class:!0});var b=_(h);v=V(b,"IMG",{alt:!0,src:!0,class:!0}),b.forEach(m),$=p(w),j=V(w,"DIV",{class:!0});var D=_(j);I=V(D,"IMG",{alt:!0,src:!0,class:!0}),D.forEach(m),A=p(w),G=V(w,"DIV",{class:!0});var y=_(G);M=V(y,"IMG",{alt:!0,src:!0,class:!0}),y.forEach(m),q=p(w),B=V(w,"DIV",{class:!0});var x=_(B);N=V(x,"IMG",{alt:!0,src:!0,class:!0}),x.forEach(m),P=p(w),L=V(w,"DIV",{class:!0});var z=_(L);R=V(z,"IMG",{alt:!0,src:!0,class:!0}),z.forEach(m),O=p(w),S=V(w,"DIV",{}),_(S).forEach(m),H=p(w),U=V(w,"DIV",{}),_(U).forEach(m),Q=p(w),Z=V(w,"DIV",{class:!0});var C=_(Z);W=V(C,"IMG",{alt:!0,src:!0,class:!0}),C.forEach(m),tt=p(w),et=V(w,"DIV",{class:!0});var k=_(et);st=V(k,"IMG",{alt:!0,src:!0,class:!0}),k.forEach(m),rt=p(w),ct=V(w,"DIV",{class:!0});var T=_(ct);it=V(T,"IMG",{alt:!0,src:!0,class:!0}),T.forEach(m),lt=p(w),ot=V(w,"DIV",{class:!0});var J=_(ot);ut=V(J,"IMG",{alt:!0,src:!0,class:!0}),J.forEach(m),pt=p(w),gt=V(w,"DIV",{class:!0});var X=_(gt);ft=V(X,"IMG",{alt:!0,src:!0,class:!0}),X.forEach(m),mt=p(w),vt=V(w,"DIV",{}),_(vt).forEach(m),w.forEach(m),wt=p(u),$t=V(u,"DIV",{class:!0});var K=_($t);jt=V(K,"DIV",{}),_(jt).forEach(m),bt=p(K),Et=V(K,"DIV",{class:!0});var F=_(Et);It=V(F,"IMG",{alt:!0,src:!0,class:!0}),F.forEach(m),Vt=p(K),_t=V(K,"DIV",{class:!0});var Y=_(_t);yt=V(Y,"IMG",{alt:!0,src:!0,class:!0}),Y.forEach(m),zt=p(K),Ct=V(K,"DIV",{class:!0});var at=_(Ct);At=V(at,"IMG",{alt:!0,src:!0,class:!0}),at.forEach(m),Mt=p(K),kt=V(K,"DIV",{class:!0});var nt=_(kt);qt=V(nt,"IMG",{alt:!0,src:!0,class:!0}),nt.forEach(m),Nt=p(K),Tt=V(K,"DIV",{}),_(Tt).forEach(m),K.forEach(m),u.forEach(m),this.h()},h(){y(v,"alt","11"),v.src!==(w="/_digits/white.png")&&y(v,"src","/_digits/white.png"),y(v,"class","svelte-ju4jbp"),y(h,"class","image svelte-ju4jbp"),y(I,"alt","12"),I.src!==(C="/_digits/white.png")&&y(I,"src","/_digits/white.png"),y(I,"class","svelte-ju4jbp"),y(j,"class","image svelte-ju4jbp"),y(M,"alt","13"),M.src!==(k="/_digits/white.png")&&y(M,"src","/_digits/white.png"),y(M,"class","svelte-ju4jbp"),y(G,"class","image svelte-ju4jbp"),y(N,"alt","14"),N.src!==(T="/_digits/white.png")&&y(N,"src","/_digits/white.png"),y(N,"class","svelte-ju4jbp"),y(B,"class","image svelte-ju4jbp"),y(R,"alt","15"),R.src!==(J="/_digits/white.png")&&y(R,"src","/_digits/white.png"),y(R,"class","svelte-ju4jbp"),y(L,"class","image svelte-ju4jbp"),y(W,"alt","21"),W.src!==(Y="/_digits/white.png")&&y(W,"src","/_digits/white.png"),y(W,"class","svelte-ju4jbp"),y(Z,"class","image svelte-ju4jbp"),y(st,"alt","22"),st.src!==(at="/_digits/white.png")&&y(st,"src","/_digits/white.png"),y(st,"class","svelte-ju4jbp"),y(et,"class","image svelte-ju4jbp"),y(it,"alt","23"),it.src!==(nt="/_digits/white.png")&&y(it,"src","/_digits/white.png"),y(it,"class","svelte-ju4jbp"),y(ct,"class","image svelte-ju4jbp"),y(ut,"alt","24"),ut.src!==(dt="/_digits/white.png")&&y(ut,"src","/_digits/white.png"),y(ut,"class","svelte-ju4jbp"),y(ot,"class","image svelte-ju4jbp"),y(ft,"alt","25"),ft.src!==(ht="/_digits/white.png")&&y(ft,"src","/_digits/white.png"),y(ft,"class","svelte-ju4jbp"),y(gt,"class","image svelte-ju4jbp"),y(o,"class","images svelte-ju4jbp"),y(It,"alt","a1"),It.src!==(Dt="/_digits/white.png")&&y(It,"src","/_digits/white.png"),y(It,"class","svelte-ju4jbp"),y(Et,"class","target svelte-ju4jbp"),y(yt,"alt","a2"),yt.src!==(xt="/_digits/white.png")&&y(yt,"src","/_digits/white.png"),y(yt,"class","svelte-ju4jbp"),y(_t,"class","target svelte-ju4jbp"),y(At,"alt","a3"),At.src!==(Gt="/_digits/white.png")&&y(At,"src","/_digits/white.png"),y(At,"class","svelte-ju4jbp"),y(Ct,"class","target svelte-ju4jbp"),y(qt,"alt","a4"),qt.src!==(Bt="/_digits/white.png")&&y(qt,"src","/_digits/white.png"),y(qt,"class","svelte-ju4jbp"),y(kt,"class","target svelte-ju4jbp"),y($t,"class","targets svelte-ju4jbp"),y(e,"id","movecaptcha"),y(e,"class","w3-container w3-center")},m(t,u){g(t,e,u),x(e,s),x(e,a),x(e,r),x(r,c);for(let t=0;t<Rt.length;t+=1)Rt[t].m(r,null);x(r,i),x(e,n),Jt&&Jt.m(e,null),x(e,l),x(e,o),x(o,d),x(o,f),x(o,h),x(h,v),x(o,$),x(o,j),x(j,I),x(o,A),x(o,G),x(G,M),x(o,q),x(o,B),x(B,N),x(o,P),x(o,L),x(L,R),x(o,O),x(o,S),x(o,H),x(o,U),x(o,Q),x(o,Z),x(Z,W),x(o,tt),x(o,et),x(et,st),x(o,rt),x(o,ct),x(ct,it),x(o,lt),x(o,ot),x(ot,ut),x(o,pt),x(o,gt),x(gt,ft),x(o,mt),x(o,vt),x(e,wt),x(e,$t),x($t,jt),x($t,bt),x($t,Et),x(Et,It),x($t,Vt),x($t,_t),x(_t,yt),x($t,zt),x($t,Ct),x(Ct,At),x($t,Mt),x($t,kt),x(kt,qt),x($t,Nt),x($t,Tt)},p(t,s){if(1&s){let e;for(Lt=t[0],e=0;e<Lt.length;e+=1){const a=X(t,Lt,e);Rt[e]?Rt[e].p(a,s):(Rt[e]=K(a),Rt[e].c(),Rt[e].m(r,i))}for(;e<Rt.length;e+=1)Rt[e].d(1);Rt.length=Lt.length}t[3]?Jt?Jt.p(t,s):(Jt=F(t),Jt.c(),Jt.m(e,l)):Jt&&(Jt.d(1),Jt=null)},d(t){t&&m(e),z(Rt,t),Jt&&Jt.d()}}}function Z(t){let e;return{c(){e=D("div")},l(t){e=V(t,"DIV",{}),_(e).forEach(m)},m(t,s){g(t,e,s)},p:C,d(t){t&&m(e)}}}function K(t){let e,s,a=t[22]+"";return{c(){e=b(a),s=u()},l(t){e=E(t,a),s=p(t)},m(t,a){g(t,e,a),g(t,s,a)},p(t,s){1&s&&a!==(a=t[22]+"")&&I(e,a)},d(t){t&&m(e),t&&m(s)}}}function F(t){let e,s;return{c(){e=D("div"),s=b(t[3]),this.h()},l(a){e=V(a,"DIV",{class:!0});var r=_(e);s=E(r,t[3]),r.forEach(m),this.h()},h(){y(e,"class","w3-green")},m(t,a){g(t,e,a),x(e,s)},p(t,e){8&e&&I(s,t[3])},d(t){t&&m(e)}}}function W(t){let e,s,u;function d(e){t[6].call(null,e)}let p={};return void 0!==t[2]&&(p.error=t[2]),e=new H({props:p}),$.push((()=>j(e,"error",d))),{c(){a(e.$$.fragment)},l(t){r(e.$$.fragment,t)},m(t,s){c(e,t,s),u=!0},p(t,a){const r={};!s&&4&a&&(s=!0,r.error=t[2],i((()=>s=!1))),e.$set(r)},i(t){u||(n(e.$$.fragment,t),u=!0)},o(t){l(e.$$.fragment,t),u=!1},d(t){o(e,t)}}}function Y(t){let e,s,a;function r(t,e){return 0===t[1].length?Z:Q}let c=r(t),i=c(t),o=t[2]&&W(t);return{c(){i.c(),e=u(),o&&o.c(),s=d()},l(t){i.l(t),e=p(t),o&&o.l(t),s=d()},m(t,r){i.m(t,r),g(t,e,r),o&&o.m(t,r),g(t,s,r),a=!0},p(t,[a]){c===(c=r(t))&&i?i.p(t,a):(i.d(1),i=c(t),i&&(i.c(),i.m(e.parentNode,e))),t[2]?o?(o.p(t,a),4&a&&n(o,1)):(o=W(t),o.c(),n(o,1),o.m(s.parentNode,s)):o&&(f(),l(o,1,1,(()=>{o=null})),h())},i(t){a||(n(o),a=!0)},o(t){l(o),a=!1},d(t){i.d(t),t&&m(e),o&&o.d(t),t&&m(s)}}}function tt(t){t.preventDefault();const e=t.target,s=e.getAttribute("class").replace(/ targeted/,"");e.setAttribute("class",s)}function et(t,e,s){const a=v(),r={building:"Construction d'une Captcha...",finished:"Navré mais les 2 minutes pendant lesquelles \nvous pouviez résoudre la captcha sont écoulées.",badcaptcha:"Je n'arrive pas à construire la Captcha"};let c,i,n,l,o,u=[],d=[],p=[],g=r.building;async function f(t){if(t)try{const t=await fetch("/api/signupinit.json");if(!t.ok)throw t;t.entity=await t.json(),i=t.entity.nonce,s(0,u=t.entity.wanted),s(1,d=t.entity.urls),s(5,n=t.entity.expires)}catch(t){console.log("signup","getInfo",t),s(2,l=r.badcaptcha),s(3,g=void 0)}}async function h(t){s(2,l=void 0),await f(!0)}function m(){s(2,l=void 0),setTimeout($,1e3),o=Date.parse(n)}function $(){const t=document.getElementById("movecaptcha"),e=t.getElementsByClassName("image");for(let t=0;t<e.length;t++){const a=e.item(t).firstElementChild;a.setAttribute("src",d[t]),a.addEventListener("dragstart",(t=>(s(2,l=void 0),t.dataTransfer.setData("text/plain",t.target.src),t.dataTransfer.effectAllowed="copy",!0)))}const r=t.getElementsByClassName("target");p=[];for(let t=0;t<r.length;t++){const e=r.item(t),s=e.firstElementChild;p.push(s),s.setAttribute("src","/_digits/white.png"),e.addEventListener("dragenter",j),e.addEventListener("dragover",(t=>{t.preventDefault()})),e.addEventListener("dragleave",tt),e.addEventListener("drop",b)}c=c||{getResponse:D,refresh:h,getCount:E},s(3,g=void 0),a("ready",c)}function j(t){if(t.preventDefault(),Date.now()<o){const e=t.target,s=e.getAttribute("class")+" targeted";e.setAttribute("class",s)}else s(2,l=r.finished),t.preventDefault(),t.stopPropagation(),a("timeout",{captcha:c})}function b(t){Date.now()<o?(tt(t),t.target.setAttribute("src",t.dataTransfer.getData("text/plain")),a("change",{captcha:c,count:E()}),I()&&a("complete",{captcha:c,complete:!0})):(s(2,l=r.finished),t.preventDefault(),t.stopPropagation(),a("timeout",{captcha:c}))}function E(){let t=0;return p.forEach((e=>{e.getAttribute("src");e.getAttribute("src").match(/white[.]png/)||t++})),t}function I(){let t=[];return!p.some((e=>{const s=e.getAttribute("src");return t.push(s.replace(/^.*\/(\w+)[.]png$/,"$1")),e.getAttribute("src").match(/white[.]png/)}))&&t}function D(){if(Date.now()<o){let t=I();if(t){return`movecaptcha,${btoa(`${i},${t.join(",")}`)}`}return!1}return s(2,l=r.finished),a("timeout",{captcha:c}),!1}return w((()=>{s(2,l=void 0),f(!0)})),t.$$.update=()=>{32&t.$$.dirty&&(o=function(t){if("undefined"!=typeof document)return m(),Date.parse(t)}(n))},[u,d,l,g,m,n,function(t){l=t,s(2,l)}]}class st extends t{constructor(t){super(),e(this,t,et,Y,s,{})}}function at(t){let e,s,a,r;return{c(){e=A("svg"),s=A("g"),a=A("path"),this.h()},l(t){e=V(t,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,stroke:!0,fill:!0,"stroke-width":!0,class:!0},1);var r=_(e);s=V(r,"g",{transform:!0},1);var c=_(s);a=V(c,"path",{d:!0},1),_(a).forEach(m),c.forEach(m),r.forEach(m),this.h()},h(){y(a,"d","m 185.7656,213.8906 q 27.4219,28.2656 27.4219,68.0625 0,40.0781 -28.8984,68.9766 -28.8985,28.8984 -69.1172,28.8984 -40.2188,0 -69.0469,-28.7578 -28.8281,-28.7578 -28.8281,-69.1172 0,-36.1406 23.3437,-63.4219 l 10.6875,8.7188 q -20.25,23.625 -20.25,54.7031 0,34.5938 24.75,59.3438 24.75,24.75 59.3438,24.75 34.5937,0 59.3437,-24.75 24.75,-24.75 24.75,-59.3438 0,-33.6093 -23.3437,-58.2187 l -12.375,27.4218 -17.8594,-67.2187 67.0781,17.8594 z"),y(s,"transform","translate(-17.2969,-183.9375)"),y(e,"xmlns","http://www.w3.org/2000/svg"),y(e,"width",t[1]),y(e,"height",t[2]),y(e,"viewBox",r="0 0 "+rt+" "+ct),y(e,"stroke",t[0]),y(e,"fill",t[0]),y(e,"stroke-width","1"),y(e,"class","svelte-7jy9zm")},m(t,r){g(t,e,r),x(e,s),x(s,a)},p(t,[s]){1&s&&y(e,"stroke",t[0]),1&s&&y(e,"fill",t[0])},i:C,o:C,d(t){t&&m(e)}}}let rt=195.9,ct=195.9;function it(t,e,s){let{size:a="1em"}=e,r=a,c=a,{color:i="black"}=e;return t.$$set=t=>{"size"in t&&s(3,a=t.size),"color"in t&&s(0,i=t.color)},[i,r,c,a]}class nt extends t{constructor(t){super(),e(this,t,it,at,s,{size:3,color:0})}}function lt(t){let e,s,u;function d(e){t[13].call(null,e)}let p={};return void 0!==t[3]&&(p.helpshown=t[3]),e=new U({props:p}),$.push((()=>j(e,"helpshown",d))),{c(){a(e.$$.fragment)},l(t){r(e.$$.fragment,t)},m(t,s){c(e,t,s),u=!0},p(t,a){const r={};!s&&8&a&&(s=!0,r.helpshown=t[3],i((()=>s=!1))),e.$set(r)},i(t){u||(n(e.$$.fragment,t),u=!0)},o(t){l(e.$$.fragment,t),u=!1},d(t){o(e,t)}}}function ot(t){let e,s,i,u,d;return s=new nt({props:{color:"white",size:"2em"}}),{c(){e=D("button"),a(s.$$.fragment),this.h()},l(t){e=V(t,"BUTTON",{class:!0,title:!0});var a=_(e);r(s.$$.fragment,a),a.forEach(m),this.h()},h(){y(e,"class","w3-btn w3-theme-d1 w3-round-xxlarge"),y(e,"title","Rafraîchir la captcha...")},m(a,r){g(a,e,r),c(s,e,null),i=!0,u||(d=G(e,"click",t[11]),u=!0)},p:C,i(t){i||(n(s.$$.fragment,t),i=!0)},o(t){l(s.$$.fragment,t),i=!1},d(t){t&&m(e),o(s),u=!1,d()}}}function ut(t){let e,s,u;function d(e){t[15].call(null,e)}let p={};return void 0!==t[1]&&(p.error=t[1]),e=new H({props:p}),$.push((()=>j(e,"error",d))),{c(){a(e.$$.fragment)},l(t){r(e.$$.fragment,t)},m(t,s){c(e,t,s),u=!0},p(t,a){const r={};!s&&2&a&&(s=!0,r.error=t[1],i((()=>s=!1))),e.$set(r)},i(t){u||(n(e.$$.fragment,t),u=!0)},o(t){l(e.$$.fragment,t),u=!1},d(t){o(e,t)}}}function dt(t){let e,s,i,d,v,w,$,j,I,z,C,A,N,T,P,L,R,J,H,U,X,Q,Z,K,F,W,Y,tt,et,at,rt,ct;s=new O({});let it=t[3]&&lt(t);X=new st({}),X.$on("ready",t[8]),X.$on("change",t[7]),X.$on("timeout",t[10]),X.$on("complete",t[9]);let nt=t[4]&&ot(t),dt=t[1]&&ut(t);return et=new S({}),{c(){e=u(),a(s.$$.fragment),i=u(),d=D("section"),v=D("div"),w=D("header"),$=b("Inscription à CodeGradX\n      "),j=D("span"),I=b("🛈"),z=u(),it&&it.c(),C=u(),A=D("p"),N=b("Indiquez votre courriel (qui deviendra votre nom de connexion\n      définitif et immuable) puis résolvez la Captcha."),T=u(),P=D("div"),L=D("label"),R=b("Votre courriel:"),J=u(),H=D("input"),U=u(),a(X.$$.fragment),Q=u(),Z=D("div"),K=D("button"),F=b("Je m'inscris!"),W=u(),nt&&nt.c(),Y=u(),dt&&dt.c(),tt=u(),a(et.$$.fragment),this.h()},l(t){M('[data-svelte="svelte-1w6p15z"]',document.head).forEach(m),e=p(t),r(s.$$.fragment,t),i=p(t),d=V(t,"SECTION",{class:!0});var a=_(d);v=V(a,"DIV",{class:!0});var c=_(v);w=V(c,"HEADER",{class:!0});var n=_(w);$=E(n,"Inscription à CodeGradX\n      "),j=V(n,"SPAN",{class:!0});var l=_(j);I=E(l,"🛈"),l.forEach(m),n.forEach(m),z=p(c),it&&it.l(c),C=p(c),A=V(c,"P",{class:!0});var o=_(A);N=E(o,"Indiquez votre courriel (qui deviendra votre nom de connexion\n      définitif et immuable) puis résolvez la Captcha."),o.forEach(m),T=p(c),P=V(c,"DIV",{class:!0});var u=_(P);L=V(u,"LABEL",{for:!0});var g=_(L);R=E(g,"Votre courriel:"),g.forEach(m),J=p(u),H=V(u,"INPUT",{type:!0,name:!0,class:!0,placeholder:!0}),u.forEach(m),c.forEach(m),U=p(a),r(X.$$.fragment,a),Q=p(a),Z=V(a,"DIV",{class:!0});var f=_(Z);K=V(f,"BUTTON",{class:!0,name:!0});var h=_(K);F=E(h,"Je m'inscris!"),h.forEach(m),W=p(f),nt&&nt.l(f),f.forEach(m),Y=p(a),dt&&dt.l(a),a.forEach(m),tt=p(t),r(et.$$.fragment,t),this.h()},h(){document.title="CodeGradX/Inscription",y(j,"class","w3-right w3-margin-left w3-xlarge"),y(w,"class","w3-center w3-large bold svelte-q6rd9e"),y(A,"class","smallHint svelte-q6rd9e"),y(L,"for","login"),y(H,"type","text"),y(H,"name","login"),y(H,"class","w3-input svelte-q6rd9e"),y(H,"placeholder",pt),k(H,"error",t[2]),y(P,"class","w3-margin-top"),y(v,"class","w3-margin-top w3-padding"),y(K,"class","w3-btn w3-theme-d1 w3-round-xxlarge"),y(K,"name","enroll"),y(Z,"class","w3-center w3-margin-top"),y(d,"class","w3-container")},m(a,r){g(a,e,r),c(s,a,r),g(a,i,r),g(a,d,r),x(d,v),x(v,w),x(w,$),x(w,j),x(j,I),x(v,z),it&&it.m(v,null),x(v,C),x(v,A),x(A,N),x(v,T),x(v,P),x(P,L),x(L,R),x(P,J),x(P,H),q(H,t[0]),x(d,U),c(X,d,null),x(d,Q),x(d,Z),x(Z,K),x(K,F),x(Z,W),nt&&nt.m(Z,null),x(d,Y),dt&&dt.m(d,null),g(a,tt,r),c(et,a,r),at=!0,rt||(ct=[G(j,"click",t[12]),G(H,"input",t[14]),G(H,"keyup",t[5]),G(H,"click",t[5]),G(K,"click",t[6])],rt=!0)},p(t,[e]){t[3]?it?(it.p(t,e),8&e&&n(it,1)):(it=lt(t),it.c(),n(it,1),it.m(v,C)):it&&(f(),l(it,1,1,(()=>{it=null})),h()),1&e&&H.value!==t[0]&&q(H,t[0]),4&e&&k(H,"error",t[2]),t[4]?nt?(nt.p(t,e),16&e&&n(nt,1)):(nt=ot(t),nt.c(),n(nt,1),nt.m(Z,null)):nt&&(f(),l(nt,1,1,(()=>{nt=null})),h()),t[1]?dt?(dt.p(t,e),2&e&&n(dt,1)):(dt=ut(t),dt.c(),n(dt,1),dt.m(d,null)):dt&&(f(),l(dt,1,1,(()=>{dt=null})),h())},i(t){at||(n(s.$$.fragment,t),n(it),n(X.$$.fragment,t),n(nt),n(dt),n(et.$$.fragment,t),at=!0)},o(t){l(s.$$.fragment,t),l(it),l(X.$$.fragment,t),l(nt),l(dt),l(et.$$.fragment,t),at=!1},d(t){t&&m(e),o(s,t),t&&m(i),t&&m(d),it&&it.d(),o(X),nt&&nt.d(),dt&&dt.d(),t&&m(tt),o(et,t),rt=!1,B(ct)}}}let pt="mon.email@a.moi";const gt=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,})$/;function ft(t){return(t=(t=t||"").replace(/[^a-z@._]/g,"")).match(gt)}function ht(t,e,s){let a,r,c;N(t,J,(t=>s(19,a=t)));let i=!1,n=!1,l=null,o=!1,u=0,d=!1;function p(t){s(1,c=s(2,i=void 0))}return w((async()=>R())),[r,c,i,n,d,p,async function(t){if(p(),!r||""===r)return void s(2,i=s(1,c="Quel est votre courriel ?"));if(!ft(r))return void s(2,i=s(1,c="Votre courriel a l'air mal formé!"));let e=T.getCurrentState();try{if(o){let t=l.getResponse();if(!t)throw new Error("void captchaResponse");try{P(J,a=await e.userEnroll(r,t),a),L(`/resume/${a.token}`)}catch(t){s(1,c="Mauvaise réponse!")}}else s(1,c="Vous n'avez pas fini de résoudre la Captcha!")}catch(t){throw console.log({exc:t}),console.log(e.log),t}},function(t){let e=t.detail;l=e.captcha,u=e.count,p(),ft(r)||s(2,i=s(1,c="Votre courriel a l'air mal formé!"))},function(t){l=t.detail,u=0,o=!1,s(4,d=!1)},function(t){let e=t.detail;l=e.captcha,o=e.complete},function(t){let e=t.detail;l=e.captcha,s(4,d=!0),ft(r)||s(2,i=s(1,c="Votre courriel a l'air mal formé!"))},function(t){l&&l.refresh(),s(4,d=!1)},function(t){s(3,n=!0)},function(t){n=t,s(3,n)},function(){r=this.value,s(0,r)},function(t){c=t,s(1,c)}]}export default class extends t{constructor(t){super(),e(this,t,ht,dt,s,{})}}
