import{S as e,i as r,s,e as n,d as o,f as t,h as a,j as c,k as i,v as u,c as l,w as d,x as p,g as v,m as h,t as f,n as m,o as g,A as w,B as $,p as C,q as E,r as q,z as y,E as x,u as b,N as z,G as T}from"./client.da3410a8.js";import{H as G,B as V}from"./Bottom.e27e48ca.js";import{a as j,p as k}from"./lib.de88aed8.js";function B(e){let r;function s(e,r){return e[0]?S:N}let u=s(e),l=u(e);return{c(){r=n("section"),l.c(),this.h()},l(e){r=o(e,"SECTION",{class:!0});var s=t(r);l.l(s),s.forEach(a),this.h()},h(){c(r,"class","w3-container")},m(e,s){i(e,r,s),l.m(r,null)},p(e,n){u===(u=s(e))&&l?l.p(e,n):(l.d(1),l=u(e),l&&(l.c(),l.m(r,null)))},d(e){e&&a(r),l.d()}}}function N(e){let r,s,l,d,v,h,f,m;return{c(){r=n("p"),s=C("Un courriel vient de vous être adressé. Vous pourrez cliquer sur le\n    bouton ci-dessous après avoir confirmé votre adresse électronique."),l=u(),d=n("div"),v=n("button"),h=C("Je continue"),this.h()},l(e){r=o(e,"P",{});var n=t(r);s=E(n,"Un courriel vient de vous être adressé. Vous pourrez cliquer sur le\n    bouton ci-dessous après avoir confirmé votre adresse électronique."),n.forEach(a),l=p(e),d=o(e,"DIV",{class:!0});var c=t(d);v=o(c,"BUTTON",{class:!0});var i=t(v);h=E(i,"Je continue"),i.forEach(a),c.forEach(a),this.h()},h(){c(v,"class","w3-btn w3-theme-d1 w3-round-xxlarge"),c(d,"class","w3-center")},m(n,o){i(n,r,o),q(r,s),i(n,l,o),i(n,d,o),q(d,v),q(v,h),f||(m=y(v,"click",e[3]),f=!0)},p:x,d(e){e&&a(r),e&&a(l),e&&a(d),f=!1,m()}}}function S(e){let r,s,l,d,v,h,f,m,g,w,$,x=e[1].login+"";return{c(){r=n("p"),s=C("Vous n'avez pas encore confirmé votre adresse électronique:\n    Cliquez sur le bouton ci-dessous pour que vous soit envoyé\n    un courriel adressé à "),l=n("code"),d=C(x),v=C(".\n    Ce courriel contiendra un lien vous permettant de progresser dans\n    votre inscription à CodeGradX."),h=u(),f=n("div"),m=n("button"),g=C("M'envoyer un courriel"),this.h()},l(e){r=o(e,"P",{});var n=t(r);s=E(n,"Vous n'avez pas encore confirmé votre adresse électronique:\n    Cliquez sur le bouton ci-dessous pour que vous soit envoyé\n    un courriel adressé à "),l=o(n,"CODE",{});var c=t(l);d=E(c,x),c.forEach(a),v=E(n,".\n    Ce courriel contiendra un lien vous permettant de progresser dans\n    votre inscription à CodeGradX."),n.forEach(a),h=p(e),f=o(e,"DIV",{class:!0});var i=t(f);m=o(i,"BUTTON",{class:!0});var u=t(m);g=E(u,"M'envoyer un courriel"),u.forEach(a),i.forEach(a),this.h()},h(){c(m,"class","w3-btn w3-theme-d1 w3-round-xxlarge"),c(f,"class","w3-center")},m(n,o){i(n,r,o),q(r,s),q(r,l),q(l,d),q(r,v),i(n,h,o),i(n,f,o),q(f,m),q(m,g),w||($=y(m,"click",e[2]),w=!0)},p(e,r){2&r&&x!==(x=e[1].login+"")&&b(d,x)},d(e){e&&a(r),e&&a(h),e&&a(f),w=!1,$()}}}function O(e){let r,s,n,o,t,c;s=new G({});let w=e[1]&&B(e);return t=new V({}),{c(){r=u(),l(s.$$.fragment),n=u(),w&&w.c(),o=u(),l(t.$$.fragment),this.h()},l(e){d('[data-svelte="svelte-22p8op"]',document.head).forEach(a),r=p(e),v(s.$$.fragment,e),n=p(e),w&&w.l(e),o=p(e),v(t.$$.fragment,e),this.h()},h(){document.title="CodeGradX/ConfirmationCourriel"},m(e,a){i(e,r,a),h(s,e,a),i(e,n,a),w&&w.m(e,a),i(e,o,a),h(t,e,a),c=!0},p(e,[r]){e[1]?w?w.p(e,r):(w=B(e),w.c(),w.m(o.parentNode,o)):w&&(w.d(1),w=null)},i(e){c||(f(s.$$.fragment,e),f(t.$$.fragment,e),c=!0)},o(e){m(s.$$.fragment,e),m(t.$$.fragment,e),c=!1},d(e){e&&a(r),g(s,e),e&&a(n),w&&w.d(e),e&&a(o),g(t,e)}}}function U(e,r,s){let n;w(e,k,(e=>s(1,n=e)));let o=!0;return $((async()=>j().then((async()=>{})))),[o,n,async function(e){try{const e=n.login;if(!e||""===e)return void(errorLogin=error="Quel est votre courriel ?");z(k,n=await T.getCurrentState().userGetLink(e),n),s(0,o=!1)}catch(e){error="Je ne vois pas qui vous êtes !"}},async function(e){try{let e=`/fromp/reconnect/${n.token}?site=${window.location.origin}/universes`;await T.getCurrentState().sendAXServer("x",{path:e,method:"GET",headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}})}catch(e){console.log({exc:e})}}]}export default class extends e{constructor(e){super(),r(this,e,U,O,s,{})}}
